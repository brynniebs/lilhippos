<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin Panel â€¢ Brynnie B's</title>
  <meta name="robots" content="noindex, nofollow" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;700&family=Nunito:wght@400;600;700&display=swap"
    rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="assets/css/admin.css" />
</head>

<body>

  <!-- Login Screen -->
  <div class="login-screen" id="loginScreen">
    <div class="login-card">
      <img src="assets/img/Brynnie-Banner.png" alt="Brynnie B's" />
      <h1>Admin Panel</h1>
      <p>Enter your password to continue</p>
      <form id="loginForm">
        <div class="login-error" id="loginError">Incorrect password. Please try again.</div>
        <input type="password" id="passwordInput" placeholder="Password" autocomplete="current-password" required />
        <button type="submit" class="btn btn-primary" style="width:100%;">Sign In</button>
      </form>
    </div>
  </div>

  <!-- Admin Dashboard -->
  <div class="admin-dashboard" id="adminDashboard">

    <!-- Header -->
    <header class="admin-header">
      <div class="header-left">
        <img src="assets/img/Brynnie-Banner.png" alt="Brynnie B's" />
        <h2>Admin Panel</h2>
      </div>
      <div class="header-actions">
        <button class="btn btn-danger" id="logoutBtn">Logout</button>
      </div>
    </header>

    <!-- Tabs -->
    <nav class="admin-tabs">
      <button class="tab-btn" data-tab="dashboardPanel">ğŸ“Š Dashboard</button>
      <button class="tab-btn" data-tab="productsPanel">ğŸ›ï¸ Products</button>
      <button class="tab-btn" data-tab="ordersPanel">ğŸ“¦ Orders</button>
      <button class="tab-btn active" data-tab="eventsPanel">ğŸ“… Events</button>
      <button class="tab-btn" data-tab="galleryPanel">ğŸ–¼ï¸ Gallery</button>
      <button class="tab-btn" data-tab="contentPanel">âœï¸ Site Content</button>
    </nav>

    <!-- Content Area -->
    <div class="admin-content">

      <!-- DASHBOARD PANEL -->
      <div class="tab-panel" id="dashboardPanel">
        <div class="dashboard-grid">
          <div class="admin-card stat-card">
            <h4>Total Revenue</h4>
            <p class="stat-value" id="statRevenue">$0.00</p>
          </div>
          <div class="admin-card stat-card">
            <h4>Orders</h4>
            <p class="stat-value" id="statOrders">0</p>
          </div>
          <div class="admin-card stat-card">
            <h4>Products</h4>
            <p class="stat-value" id="statProducts">0</p>
          </div>
          <div class="admin-card stat-card">
            <h4>Low Stock</h4>
            <p class="stat-value" id="statLowStock">0</p>
          </div>
        </div>
        <div class="admin-card">
          <h3>ğŸ“ˆ Sales This Month</h3>
          <canvas id="salesChart" height="200"></canvas>
        </div>
        <div class="admin-card">
          <h3>ğŸ• Recent Orders</h3>
          <div id="recentOrdersList"></div>
        </div>
      </div>

      <!-- PRODUCTS PANEL -->
      <div class="tab-panel" id="productsPanel">
        <div class="admin-card">
          <h3 id="productFormTitle">Add New Product</h3>
          <form id="productForm">
            <div class="form-row">
              <div class="form-group">
                <label for="productName">Product Name *</label>
                <input type="text" id="productName" name="productName" placeholder="e.g., Beaded Collar - Rose Mix"
                  required />
              </div>
              <div class="form-group">
                <label for="productPrice">Price ($) *</label>
                <input type="number" id="productPrice" name="productPrice" step="0.01" min="0" placeholder="24.00"
                  required />
              </div>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label>Category</label>
                <select id="productCategory" name="productCategory" style="margin-bottom:8px;"></select>
                <div style="display:flex;gap:8px;">
                  <input type="text" id="newCategoryInput" placeholder="New category name" style="flex:1;" />
                  <button type="button" class="btn btn-secondary btn-small" onclick="AdminPanel.addCategory()">+
                    Add</button>
                  <button type="button" class="btn btn-danger btn-small"
                    onclick="AdminPanel.deleteCategory()">ğŸ—‘ï¸</button>
                </div>
              </div>
              <div class="form-group">
                <label for="productInventory">Inventory Count</label>
                <input type="number" id="productInventory" name="productInventory" min="0" placeholder="10" />
              </div>
            </div>

            <!-- Sizes with checkboxes -->
            <div class="form-group">
              <label>Available Sizes</label>
              <div id="sizesContainer" style="display:flex;flex-wrap:wrap;gap:8px;margin-top:8px;">
                <label class="size-check"><input type="checkbox" name="sizes" value="XS"> XS</label>
                <label class="size-check"><input type="checkbox" name="sizes" value="S" checked> S</label>
                <label class="size-check"><input type="checkbox" name="sizes" value="M" checked> M</label>
                <label class="size-check"><input type="checkbox" name="sizes" value="L" checked> L</label>
                <label class="size-check"><input type="checkbox" name="sizes" value="XL"> XL</label>
              </div>
            </div>

            <!-- Colors with tag input -->
            <div class="form-group">
              <label>Colors</label>
              <div id="colorTags" style="display:flex;flex-wrap:wrap;gap:6px;margin-bottom:8px;"></div>
              <div style="display:flex;gap:8px;">
                <input type="text" id="colorInput" placeholder="Type a color and press Add" style="flex:1;" />
                <button type="button" class="btn btn-secondary btn-small" onclick="AdminPanel.addColor()">+ Add</button>
              </div>
            </div>

            <!-- Image Upload -->
            <div class="form-group">
              <label>Product Image</label>
              <div id="productImageUpload" class="upload-area" style="padding:20px;">
                <input type="file" id="productImageFile" accept="image/*" style="display:none;" />
                <div id="productImagePreview" style="text-align:center;">
                  <span class="upload-icon">ğŸ“·</span>
                  <p>Click or drag image here</p>
                </div>
              </div>
              <input type="hidden" id="productImage" name="productImage" />
            </div>

            <div class="form-group">
              <label for="productNotes">Notes / Description</label>
              <textarea id="productNotes" name="productNotes" rows="2" placeholder="Product details..."></textarea>
            </div>
            <button type="submit" class="btn btn-primary" id="productSubmitBtn">Add Product</button>
          </form>
        </div>
        <div class="admin-card">
          <h3>Your Products</h3>
          <div class="item-list" id="productsList"></div>
        </div>
      </div>

      <!-- ORDERS PANEL -->
      <div class="tab-panel" id="ordersPanel">
        <div class="admin-card">
          <h3>ğŸ“‹ Custom Order Requests</h3>
          <div id="customOrdersList">
            <p class="text-center" style="color:#666;padding:20px;">No custom orders yet.</p>
          </div>
        </div>
        <div class="admin-card">
          <h3>ğŸ›’ Shop Orders</h3>
          <div id="shopOrdersList">
            <p class="text-center" style="color:#666;padding:20px;">No shop orders yet.</p>
          </div>
        </div>
      </div>

      <!-- EVENTS PANEL -->
      <div class="tab-panel active" id="eventsPanel">
        <div class="admin-card">
          <h3 id="eventFormTitle">Add New Event</h3>
          <form id="eventForm">
            <div class="form-row">
              <div class="form-group">
                <label for="eventStartDate">Start Date</label>
                <input type="date" id="eventStartDate" name="eventStartDate" required />
              </div>
              <div class="form-group">
                <label for="eventEndDate">End Date (leave blank for single day)</label>
                <input type="date" id="eventEndDate" name="eventEndDate" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="eventTimes">Times (e.g., 9am-3pm or Fri 3pm-8pm, Sat 10am-4pm)</label>
                <input type="text" id="eventTimes" name="eventTimes" placeholder="e.g., 9am-3pm" />
              </div>
              <div class="form-group">
                <label for="eventTitle">Event Name</label>
                <input type="text" id="eventTitle" name="eventTitle" placeholder="e.g., Holiday Craft Fair" required />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="eventCity">Location</label>
                <input type="text" id="eventCity" name="eventCity" placeholder="e.g., Belleville, IL" required />
              </div>
              <div class="form-group">
                <label for="eventMap">Google Maps Link (optional)</label>
                <input type="url" id="eventMap" name="eventMap" placeholder="https://..." />
              </div>
            </div>
            <button type="submit" class="btn btn-primary" id="eventSubmitBtn">Add Event</button>
          </form>
        </div>

        <div class="admin-card">
          <h3>Your Events</h3>
          <div class="item-list" id="eventsList"></div>
        </div>
      </div>

      <!-- GALLERY PANEL -->
      <div class="tab-panel" id="galleryPanel">
        <div class="admin-card">
          <h3>Upload Images</h3>
          <div class="upload-area" id="uploadArea">
            <input type="file" id="galleryUpload" accept="image/*" multiple />
            <div class="upload-icon">ğŸ“·</div>
            <p><strong>Click to upload</strong> or drag and drop</p>
            <p style="font-size:0.85rem;color:#999;margin-top:8px;">PNG, JPG up to 5MB</p>
          </div>
        </div>

        <div class="admin-card">
          <h3>Gallery Images</h3>
          <div class="gallery-grid" id="galleryGrid"></div>
        </div>
      </div>

      <!-- CONTENT PANEL -->
      <div class="tab-panel" id="contentPanel">

        <!-- Hero Section -->
        <div class="admin-card">
          <h3>ğŸ  Home Page - Hero Section</h3>
          <div class="form-group">
            <label for="contentHeroHeadline">Main Headline</label>
            <input type="text" id="contentHeroHeadline" />
          </div>
          <div class="form-group">
            <label for="contentHeroSubtitle">Subtitle</label>
            <textarea id="contentHeroSubtitle" rows="2"></textarea>
          </div>
          <div class="form-group">
            <label for="contentHeroFeatures">Feature Bullets (one per line)</label>
            <textarea id="contentHeroFeatures" rows="3"
              placeholder="Handmade Quality&#10;Comfort-First Fit&#10;Personalized Options"></textarea>
          </div>
        </div>

        <!-- Value Cards -->
        <div class="admin-card">
          <h3>ğŸ  Home Page - Value Cards</h3>
          <div id="valueCardsEditor"></div>
        </div>

        <!-- Featured Section -->
        <div class="admin-card">
          <h3>ğŸ  Home Page - Featured Section</h3>
          <div class="form-group">
            <label for="contentFeaturedTitle">Section Title</label>
            <input type="text" id="contentFeaturedTitle" />
          </div>
          <div class="form-group">
            <label for="contentFeaturedText">Section Description</label>
            <textarea id="contentFeaturedText" rows="2"></textarea>
          </div>
        </div>

        <!-- About Page -->
        <div class="admin-card">
          <h3>ğŸ“– About Page</h3>
          <div class="form-group">
            <label for="contentAboutStory">Our Story</label>
            <textarea id="contentAboutStory" rows="4"></textarea>
          </div>
          <div class="form-group">
            <label for="contentAboutValues">What Matters to Us (one per line)</label>
            <textarea id="contentAboutValues" rows="3"></textarea>
          </div>
        </div>

        <button class="btn btn-primary" id="saveContentBtn" style="width:100%;">ğŸ’¾ Save All Content Changes</button>
      </div>

    </div>
  </div>

  <!-- Toast Notification -->
  <div class="toast" id="toast"></div>

  <script src="assets/js/cloud-sync.js"></script>
  <script src="assets/js/admin.js"></script>
</body>

</html>